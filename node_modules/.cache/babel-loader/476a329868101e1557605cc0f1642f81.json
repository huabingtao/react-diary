{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport Notification from 'rmc-notification';\nimport Icon from '../icon';\nvar SHORT = 3;\nvar _config = {\n  duration: SHORT,\n  mask: true\n};\nvar messageInstance = void 0;\nvar prefixCls = 'am-toast';\n\nfunction getMessageInstance(mask, callback) {\n  var _classnames;\n\n  if (messageInstance) {\n    messageInstance.destroy();\n    messageInstance = null;\n  }\n\n  Notification.newInstance({\n    prefixCls: prefixCls,\n    style: {},\n    transitionName: 'am-fade',\n    className: classnames((_classnames = {}, _defineProperty(_classnames, prefixCls + '-mask', mask), _defineProperty(_classnames, prefixCls + '-nomask', !mask), _classnames))\n  }, function (notification) {\n    return callback && callback(notification);\n  });\n}\n\nfunction notice(content, type) {\n  var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _config.duration;\n  var _onClose = arguments[3];\n  var mask = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _config.mask;\n  var iconTypes = {\n    info: '',\n    success: 'success',\n    fail: 'fail',\n    offline: 'dislike',\n    loading: 'loading'\n  };\n  var iconType = iconTypes[type];\n  getMessageInstance(mask, function (notification) {\n    messageInstance = notification;\n    notification.notice({\n      duration: duration,\n      style: {},\n      content: !!iconType ? React.createElement('div', {\n        className: prefixCls + '-text ' + prefixCls + '-text-icon',\n        role: 'alert',\n        'aria-live': 'assertive'\n      }, React.createElement(Icon, {\n        type: iconType,\n        size: 'lg'\n      }), React.createElement('div', {\n        className: prefixCls + '-text-info'\n      }, content)) : React.createElement('div', {\n        className: prefixCls + '-text',\n        role: 'alert',\n        'aria-live': 'assertive'\n      }, React.createElement('div', null, content)),\n      closable: true,\n      onClose: function onClose() {\n        if (_onClose) {\n          _onClose();\n        }\n\n        notification.destroy();\n        notification = null;\n        messageInstance = null;\n      }\n    });\n  });\n}\n\nexport default {\n  SHORT: SHORT,\n  LONG: 8,\n  show: function show(content, duration, mask) {\n    return notice(content, 'info', duration, function () {}, mask);\n  },\n  info: function info(content, duration, onClose, mask) {\n    return notice(content, 'info', duration, onClose, mask);\n  },\n  success: function success(content, duration, onClose, mask) {\n    return notice(content, 'success', duration, onClose, mask);\n  },\n  fail: function fail(content, duration, onClose, mask) {\n    return notice(content, 'fail', duration, onClose, mask);\n  },\n  offline: function offline(content, duration, onClose, mask) {\n    return notice(content, 'offline', duration, onClose, mask);\n  },\n  loading: function loading(content, duration, onClose, mask) {\n    return notice(content, 'loading', duration, onClose, mask);\n  },\n  hide: function hide() {\n    if (messageInstance) {\n      messageInstance.destroy();\n      messageInstance = null;\n    }\n  },\n  config: function config() {\n    var conf = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _conf$duration = conf.duration,\n        duration = _conf$duration === undefined ? SHORT : _conf$duration,\n        mask = conf.mask;\n    _config.duration = duration;\n\n    if (mask === false) {\n      _config.mask = false;\n    }\n  }\n};","map":{"version":3,"sources":["/Users/hbt/MyProject/gitHub/react-diary/node_modules/antd-mobile/es/toast/index.js"],"names":["_defineProperty","classnames","React","Notification","Icon","SHORT","_config","duration","mask","messageInstance","prefixCls","getMessageInstance","callback","_classnames","destroy","newInstance","style","transitionName","className","notification","notice","content","type","arguments","length","undefined","_onClose","iconTypes","info","success","fail","offline","loading","iconType","createElement","role","size","closable","onClose","LONG","show","hide","config","conf","_conf$duration"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport Notification from 'rmc-notification';\nimport Icon from '../icon';\nvar SHORT = 3;\nvar _config = {\n    duration: SHORT,\n    mask: true\n};\nvar messageInstance = void 0;\nvar prefixCls = 'am-toast';\nfunction getMessageInstance(mask, callback) {\n    var _classnames;\n\n    if (messageInstance) {\n        messageInstance.destroy();\n        messageInstance = null;\n    }\n    Notification.newInstance({\n        prefixCls: prefixCls,\n        style: {},\n        transitionName: 'am-fade',\n        className: classnames((_classnames = {}, _defineProperty(_classnames, prefixCls + '-mask', mask), _defineProperty(_classnames, prefixCls + '-nomask', !mask), _classnames))\n    }, function (notification) {\n        return callback && callback(notification);\n    });\n}\nfunction notice(content, type) {\n    var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _config.duration;\n    var _onClose = arguments[3];\n    var mask = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _config.mask;\n\n    var iconTypes = {\n        info: '',\n        success: 'success',\n        fail: 'fail',\n        offline: 'dislike',\n        loading: 'loading'\n    };\n    var iconType = iconTypes[type];\n    getMessageInstance(mask, function (notification) {\n        messageInstance = notification;\n        notification.notice({\n            duration: duration,\n            style: {},\n            content: !!iconType ? React.createElement(\n                'div',\n                { className: prefixCls + '-text ' + prefixCls + '-text-icon', role: 'alert', 'aria-live': 'assertive' },\n                React.createElement(Icon, { type: iconType, size: 'lg' }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-text-info' },\n                    content\n                )\n            ) : React.createElement(\n                'div',\n                { className: prefixCls + '-text', role: 'alert', 'aria-live': 'assertive' },\n                React.createElement(\n                    'div',\n                    null,\n                    content\n                )\n            ),\n            closable: true,\n            onClose: function onClose() {\n                if (_onClose) {\n                    _onClose();\n                }\n                notification.destroy();\n                notification = null;\n                messageInstance = null;\n            }\n        });\n    });\n}\nexport default {\n    SHORT: SHORT,\n    LONG: 8,\n    show: function show(content, duration, mask) {\n        return notice(content, 'info', duration, function () {}, mask);\n    },\n    info: function info(content, duration, onClose, mask) {\n        return notice(content, 'info', duration, onClose, mask);\n    },\n    success: function success(content, duration, onClose, mask) {\n        return notice(content, 'success', duration, onClose, mask);\n    },\n    fail: function fail(content, duration, onClose, mask) {\n        return notice(content, 'fail', duration, onClose, mask);\n    },\n    offline: function offline(content, duration, onClose, mask) {\n        return notice(content, 'offline', duration, onClose, mask);\n    },\n    loading: function loading(content, duration, onClose, mask) {\n        return notice(content, 'loading', duration, onClose, mask);\n    },\n    hide: function hide() {\n        if (messageInstance) {\n            messageInstance.destroy();\n            messageInstance = null;\n        }\n    },\n    config: function config() {\n        var conf = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var _conf$duration = conf.duration,\n            duration = _conf$duration === undefined ? SHORT : _conf$duration,\n            mask = conf.mask;\n\n        _config.duration = duration;\n        if (mask === false) {\n            _config.mask = false;\n        }\n    }\n};"]},"metadata":{},"sourceType":"module"}