{"ast":null,"code":"var _jsxFileName = \"/Users/hbt/MyProject/gitHub/react-diary/src/views/login.jsx\";\nimport React from 'react';\nimport axios from '../utils/request';\nimport { List, InputItem, Button, Toast } from 'antd-mobile';\nimport { Link } from 'react-router-dom';\nimport '../styles/register.css';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  async onLogin() {\n    const {\n      email,\n      password\n    } = this.state;\n    const res = await axios.post('user/login', {\n      email,\n      password\n    });\n    const storage = window.localStorage;\n    storage.setItem('user', JSON.stringify(res.data.user));\n    Toast.success('登录成功', 1.5, _ => {\n      this.props.history.push('/index');\n    });\n  }\n\n  onChangeEmail(email) {\n    this.setState({\n      email\n    });\n  }\n\n  onChangePassword(password) {\n    this.setState({\n      password\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"login-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      className: \"icon svg-icon\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"use\", {\n      href: \"#icon-bianjilan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    })), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"\\u543E\\u8BB0\")), React.createElement(\"div\", {\n      className: \"input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(InputItem, {\n      type: \"text\",\n      clear: true,\n      placeholder: \"input your email\",\n      onChange: this.onChangeEmail.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"\\u90AE\\u7BB1\"), React.createElement(InputItem, {\n      clear: true,\n      type: \"password\",\n      placeholder: \"****\",\n      onChange: this.onChangePassword.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"\\u5BC6\\u7801\"))), React.createElement(\"div\", {\n      className: \"btn-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"btn\",\n      type: \"primary\",\n      onClick: this.onLogin.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"\\u767B\\u5F55\"), \"\\u6CA1\\u6709\\u8D26\\u53F7?\", React.createElement(Link, {\n      className: \"btn-link\",\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"\\u6CE8\\u518C\")));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/hbt/MyProject/gitHub/react-diary/src/views/login.jsx"],"names":["React","axios","List","InputItem","Button","Toast","Link","Login","Component","constructor","state","onLogin","email","password","res","post","storage","window","localStorage","setItem","JSON","stringify","data","user","success","_","props","history","push","onChangeEmail","setState","onChangePassword","render","bind"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from '../utils/request'\nimport { List, InputItem, Button, Toast } from 'antd-mobile'\nimport { Link } from 'react-router-dom'\nimport '../styles/register.css'\n\nclass Login extends React.Component {\n  constructor() {\n    super()\n    this.state = {}\n  }\n  async onLogin() {\n    const { email, password } = this.state\n    const res = await axios.post('user/login', {\n      email,\n      password\n    })\n    const storage = window.localStorage\n    storage.setItem('user', JSON.stringify(res.data.user))\n    Toast.success('登录成功', 1.5, _ => {\n      this.props.history.push('/index')\n    })\n  }\n  onChangeEmail(email) {\n    this.setState({\n      email\n    })\n  }\n  onChangePassword(password) {\n    this.setState({\n      password\n    })\n  }\n  render() {\n    return (\n      <div className=\"login-container\">\n        <div className=\"logo\">\n          <svg className=\"icon svg-icon\" aria-hidden=\"true\">\n            <use href=\"#icon-bianjilan\" />\n          </svg>\n          <h1>吾记</h1>\n        </div>\n        <div className=\"input\">\n          <List>\n            <InputItem\n              type=\"text\"\n              clear={true}\n              placeholder=\"input your email\"\n              onChange={this.onChangeEmail.bind(this)}\n            >\n              邮箱\n            </InputItem>\n            <InputItem\n              clear={true}\n              type=\"password\"\n              placeholder=\"****\"\n              onChange={this.onChangePassword.bind(this)}\n            >\n              密码\n            </InputItem>\n          </List>\n        </div>\n        <div className=\"btn-wrap\">\n          <Button\n            className=\"btn\"\n            type=\"primary\"\n            onClick={this.onLogin.bind(this)}\n          >\n            登录\n          </Button>\n          没有账号?\n          <Link className=\"btn-link\" to=\"/register\">\n            注册\n          </Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}